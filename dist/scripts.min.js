/* eslint-disable no-undef */
let pokemonRepository=function(){let e=[];function t(t){'object'==typeof t&&'name'in t?e.push(t):console.log('pokemon is not correct')}function o(){return e}function n(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types.map(e=>e.type.name),e.abilities=t.abilities.map(e=>e.ability.name)}).catch(function(e){console.error(e)})}function i(e){n(e).then(function(){a(e)})}function a(e){let t=$('.modal-body'),o=$('.modal-title');t.empty(),o.text(e.name);let n=$('<img class="pokemon-img" src="'+e.imageUrl+'" />'),i=$('<button class="modal-close")>Close</button>'),a=$('<p>Height: '+e.height+'</p>'),p=$('<p>Weight: '+e.weight+'</p>'),s=$('<p>Types: '+e.types+'</p>'),d=$('<p>Abilities: '+e.abilities+'</p>');i.on('click',l),t.append(i),t.append(n),t.append(a),t.append(p),t.append(s),t.append(d),$('#pokemonModal').show(),$('#pokemonModal').removeClass('hide'),$('.modal-backdrop').removeClass('hide')}function l(){$('#pokemonModal').addClass('hide'),$('#pokemonModal').hide(),$('.modal-backdrop').addClass('hide')}return{add:t,getAll:o,addListItem:function e(t){let o=document.querySelector('.pokemon-list'),n=document.createElement('li'),a=document.createElement('button');a.innerText=t.name,a.classList.add('button-class'),n.appendChild(a),o.appendChild(a),a.setAttribute('data-toggle','modal'),a.setAttribute('data-target','.modal'),a.addEventListener('click',function(){i(t)})},loadList:function e(){return fetch('https://pokeapi.co/api/v2/pokemon/?limit=150').then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:n,showDetails:i,showDetailsModal:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});